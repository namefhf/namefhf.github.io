"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[518],{601:(t,e,n)=>{var r=n(80492),o=n(94919),i=n(1095),a=n(18040),c=a("toPrimitive"),u=Date.prototype;r(u,c)||o(u,c,i)},1095:(t,e,n)=>{var r=n(95008),o=n(79989),i=TypeError;t.exports=function(t){if(r(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new i("Incorrect hint");return o(this,t)}},23957:(t,e,n)=>{var r=n(42270),o=n(65819);r("toPrimitive"),o()},92518:(t,e,n)=>{n.r(e),n.d(e,{default:()=>F});n(35415);var r=function(){var t=this,e=t._self._c;return e("div",[e("van-tabs",{attrs:{sticky:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.cates,function(n,r){var o=n.name,i=n.path;return e("van-tab",{key:r,attrs:{title:o,to:i,name:i}},[t.active===i?e("tab-content",{attrs:{active:t.active}}):t._e()],1)}),1)],1)},o=[],i=(n(28129),function(){var t=this,e=t._self._c;return e("div",[t._v(" "+t._s("page".concat(t.page,"===").concat(t.active))+" "),e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.load},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.normalizedList,function(n,r){return e("van-cell",{key:r,attrs:{title:"".concat(n.c_name,"-").concat(n.rightsType,"-").concat(n.status)},on:{click:function(e){return t.handleCellClick(n)}}})}),1)],1)}),a=[],c=n(46395),u=n(74335),s=(n(34767),n(71201),n(66040),n(59062),n(79640),n(46894),n(956));n(22989),n(79443);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(16942);var f=n(28208);n(23957),n(601),n(78571);function p(t,e){if("object"!=(0,f.A)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=(0,f.A)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function h(t){var e=p(t,"string");return"symbol"==(0,f.A)(e)?e:e+""}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h(r.key),r)}}function m(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n(63417);function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function y(t){if(Array.isArray(t))return v(t)}n(98308),n(93116),n(44266),n(6413),n(24897),n(22432);function g(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n(26243),n(21695),n(55894),n(78367),n(22098);function b(t,e){if(t){if("string"==typeof t)return v(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(t){return y(t)||g(t)||b(t)||w()}n(82516),n(11739),n(35334),n(18611),n(77138);function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}var k=n(34756);function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t,e){if(e&&("object"==(0,f.A)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _(t)}function O(t,e,n){return e=C(e),j(t,(0,k.A)()?Reflect.construct(e,n||[],C(t).constructor):e.apply(t,n))}n(67516),n(21501),n(3397);function P(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}function T(){return T="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=P(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},T.apply(null,arguments)}function S(t,e,n,r){var o=T(C(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}n(87261);var R=n(54074);function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,R.A)(t,e)}var x=function(){function t(e){l(this,t),Object.assign(this,e)}return m(t,[{key:"c_name",get:function(){return console.log(),"父类".concat(this.name)}},{key:"strategy",get:function(){return[{function:function(){return"0"===this.isStart},btnName:"未开始",btnClassName:"grey"}]}}])}(),$=function(t){function e(t){return l(this,e),O(this,e,[t])}return E(e,t),m(e,[{key:"c_name",get:function(){return"子类".concat(this.rightsName)}},{key:"strategy",get:function(){return[0].concat(A(S(e,"strategy",this,1)))}}])}(x),N=function(){function t(){l(this,t)}return m(t,null,[{key:"create",value:function(t){var e={CP:$};return e[t.rightsType]?new e[t.rightsType](t):(console.warn("没有权益类型为".concat(t.rightsType,"的类")),new x(t))}}])}();const I={name:"TabContent",props:{active:String},data:function(){return{list:[],page:1,size:10,loading:!1,finished:!1}},watch:{},computed:{normalizedList:function(){return this.list.map(function(t){return N.create(t)})}},created:function(){},methods:{sleep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise(function(e){setTimeout(function(){e()},1e3*t)})},load:function(){var t=this;return(0,u.A)((0,c.A)().m(function e(){var n;return(0,c.A)().w(function(e){while(1)switch(e.n){case 0:return console.log("load...."),s.A.loading({duration:0,forbidClick:!0,message:"加载中"}),e.n=1,t.sleep(2);case 1:for(s.A.clear(),n=0;n<10;n++)t.list.push({rightsType:"CP",rightsName:"红包",status:"1"});t.page++,t.loading=!1,t.list.length>=40&&(t.finished=!0);case 2:return e.a(2)}},e)}))()},handleCellClick:function(t){this.$router.push({name:"detail",query:{id:t}})}}},z=I;var D=n(25384),L=(0,D.A)(z,i,a,!1,null,"5680e927",null);const U=L.exports,q={components:{TabContent:U},name:"list",data:function(){return{cates:[{path:"/list/animation",name:"动画"},{path:"/list/yuanchuang",name:"原创"},{path:"/list/music",name:"音乐"},{path:"/list/live",name:"直播"}],active:this.$route.path}},created:function(){console.log("list===created",this.$route.query)},beforeRouteUpdate:function(t,e,n){console.log("beforeRouteUpdate"),this.active=t.path,n()},beforeRouteLeave:function(t,e,n){"detail"!==t.name&&this.$store.commit("setCachedComponents",[]),"detail"===t.name&&this.$store.commit("setCachedComponents",["list"]),n()},beforeRouteEnter:function(t,e,n){n(function(t){"home"===e.name&&t.$store.commit("setCachedComponents",["list"])})},activated:function(){}},M=q;var B=(0,D.A)(M,r,o,!1,null,"cd09540c",null);const F=B.exports}}]);
//# sourceMappingURL=518.b3ab1a71.js.map