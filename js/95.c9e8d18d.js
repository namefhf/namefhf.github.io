"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[95],{22095:(t,e,n)=>{n.r(e),n.d(e,{default:()=>q});n(35415);var r=function(){var t=this,e=t._self._c;return e("div",[e("van-tabs",{attrs:{sticky:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.cates,function(n,r){var o=n.name,i=n.path;return e("van-tab",{key:r,attrs:{title:o,to:i,name:i}},[t.active===i?e("tab-content",{attrs:{active:t.active}}):t._e()],1)}),1)],1)},o=[],i=(n(28129),function(){var t=this,e=t._self._c;return e("div",[t._v(" "+t._s("page".concat(t.page,"===").concat(t.active))+" "),e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.load},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.normalizedList,function(n,r){return e("van-cell",{key:r,attrs:{title:"".concat(n.c_name,"-").concat(n.rightsType,"-").concat(n.status)},on:{click:function(e){return t.handleCellClick(n)}}})}),1)],1)}),a=[],c=n(46395),u=n(74335),s=(n(34767),n(71201),n(66040),n(59062),n(79640),n(46894),n(956));n(22989),n(79443);function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n(16942);var f=n(13505);function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(0,f.A)(r.key),r)}}function h(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var d=n(52801);n(82516),n(11739),n(35334),n(18611),n(77138);function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}var m=n(34756),y=n(28208);function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){if(e&&("object"==(0,y.A)(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function w(t,e,n){return e=v(e),b(t,(0,m.A)()?Reflect.construct(e,n||[],v(t).constructor):e.apply(t,n))}n(67516),n(21501),n(3397);function k(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=v(t)););return t}function C(){return C="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=k(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},C.apply(null,arguments)}function _(t,e,n,r){var o=C(v(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof o?function(t){return o.apply(n,t)}:o}n(87261);var O=n(54074);function A(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&(0,O.A)(t,e)}var j=function(){function t(e){l(this,t),Object.assign(this,e)}return h(t,[{key:"c_name",get:function(){return console.log(),"父类".concat(this.name)}},{key:"strategy",get:function(){return[{function:function(){return"0"===this.isStart},btnName:"未开始",btnClassName:"grey"}]}}])}(),P=function(t){function e(t){return l(this,e),w(this,e,[t])}return A(e,t),h(e,[{key:"c_name",get:function(){return"子类".concat(this.rightsName)}},{key:"strategy",get:function(){return[0].concat((0,d.A)(_(e,"strategy",this,1)))}}])}(j),T=function(){function t(){l(this,t)}return h(t,null,[{key:"create",value:function(t){var e={CP:P};return e[t.rightsType]?new e[t.rightsType](t):(console.warn("没有权益类型为".concat(t.rightsType,"的类")),new j(t))}}])}();const R={name:"TabContent",props:{active:String},data:function(){return{list:[],page:1,size:10,loading:!1,finished:!1}},watch:{},computed:{normalizedList:function(){return this.list.map(function(t){return T.create(t)})}},created:function(){},methods:{sleep:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise(function(e){setTimeout(function(){e()},1e3*t)})},load:function(){var t=this;return(0,u.A)((0,c.A)().m(function e(){var n;return(0,c.A)().w(function(e){while(1)switch(e.n){case 0:return console.log("load...."),s.A.loading({duration:0,forbidClick:!0,message:"加载中"}),e.n=1,t.sleep(2);case 1:for(s.A.clear(),n=0;n<10;n++)t.list.push({rightsType:"CP",rightsName:"红包",status:"1"});t.page++,t.loading=!1,t.list.length>=40&&(t.finished=!0);case 2:return e.a(2)}},e)}))()},handleCellClick:function(t){this.$router.push({name:"detail",query:{id:t}})}}},x=R;var $=n(25384),E=(0,$.A)(x,i,a,!1,null,"5680e927",null);const N=E.exports,z={components:{TabContent:N},name:"list",data:function(){return{cates:[{path:"/list/animation",name:"动画"},{path:"/list/yuanchuang",name:"原创"},{path:"/list/music",name:"音乐"},{path:"/list/live",name:"直播"}],active:this.$route.path}},created:function(){console.log("list===created",this.$route.query)},beforeRouteUpdate:function(t,e,n){console.log("beforeRouteUpdate"),this.active=t.path,n()},beforeRouteLeave:function(t,e,n){"detail"!==t.name&&this.$store.commit("setCachedComponents",[]),"detail"===t.name&&this.$store.commit("setCachedComponents",["list"]),n()},beforeRouteEnter:function(t,e,n){n(function(t){"home"===e.name&&t.$store.commit("setCachedComponents",["list"])})},activated:function(){}},L=z;var S=(0,$.A)(L,r,o,!1,null,"cd09540c",null);const q=S.exports}}]);
//# sourceMappingURL=95.c9e8d18d.js.map